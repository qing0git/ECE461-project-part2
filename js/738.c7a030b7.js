"use strict";(self["webpackChunk_461projectui"]=self["webpackChunk_461projectui"]||[]).push([[738],{8738:function(e,r,a){a.r(r),a.d(r,{default:function(){return L}});var l=a(6252),o=a(9963);const t={id:"body-wrapper"},i={key:0},p={class:"form-group"},n=(0,l._)("legend",null,"Select Resource Type",-1),s=(0,l._)("label",{style:{"padding-left":"5px","padding-right":"10px"},for:"urlResource"},"URL",-1),u=(0,l._)("label",{style:{"padding-left":"5px"},for:"zipResource"},"Zip File",-1),c=(0,l._)("br",null,null,-1),d={class:"form-group"},m=(0,l._)("label",{for:"jsProgram"},"JS Program Code",-1),y=(0,l._)("br",null,null,-1),g={class:"input-group"},f={key:0,for:"url"},k={key:2,for:"zipFile"},b={key:3,type:"file",class:"form-control",id:"zipFile",required:"",ref:"zipInput",accept:".zip,application/zip,application/x-zip,application/x-zip-compressed,application/octet-stream",name:"zipFile",label:"Choose your zipfile"},h={key:1},w=(0,l._)("h4",null,"Processing",-1),_=(0,l._)("span",{class:"loader"},null,-1),R=[w,_];function U(e,r,a,w,_,U){return(0,l.wg)(),(0,l.iD)("div",t,[e.submitted?((0,l.wg)(),(0,l.iD)("div",h,R)):((0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("fieldset",p,[n,(0,l._)("div",null,[(0,l.wy)((0,l._)("input",{type:"radio",id:"urlResource",name:"resourceType",value:"url","onUpdate:modelValue":r[0]||(r[0]=r=>e.resourceType=r),"aria-label":"URL",placeholder:"Upload with URL"},null,512),[[o.G2,e.resourceType]]),s,(0,l.wy)((0,l._)("input",{type:"radio",id:"zipResource",name:"resourceType",value:"zip","onUpdate:modelValue":r[1]||(r[1]=r=>e.resourceType=r),label:"Upload Zip File"},null,512),[[o.G2,e.resourceType]]),u])]),c,(0,l._)("div",d,[m,(0,l.wy)((0,l._)("input",{type:"text",class:"form-control",id:"jsProgram",required:"","onUpdate:modelValue":r[2]||(r[2]=r=>e.pack.JSProgram=r),name:"jsProgram",label:"Input JS program code",placeholder:"JS Program Code"},null,512),[[o.nr,e.pack.JSProgram]])]),y,(0,l._)("div",g,["url"===e.resourceType?((0,l.wg)(),(0,l.iD)("label",f,"URL to resource")):(0,l.kq)("",!0),"url"===e.resourceType?(0,l.wy)(((0,l.wg)(),(0,l.iD)("input",{key:1,type:"text",class:"form-control",id:"url",required:"","onUpdate:modelValue":r[3]||(r[3]=r=>e.pack.URL=r),name:"url",label:"URL to resource",placeholder:"URL to resource"},null,512)),[[o.nr,e.pack.URL]]):(0,l.kq)("",!0),"zip"===e.resourceType?((0,l.wg)(),(0,l.iD)("label",k,"Choose your zipfile")):(0,l.kq)("",!0),"zip"===e.resourceType?((0,l.wg)(),(0,l.iD)("input",b,null,512)):(0,l.kq)("",!0),(0,l._)("button",{onClick:r[4]||(r[4]=(...r)=>e.savePack&&e.savePack(...r)),class:"btn btn-ada","aria-label":"Submit the form"}," Submit ")])]))])}a(7658);var z=a(3902),P=(0,l.aZ)({name:"add-pack",data(){return{pack:{},resourceType:"url",submitted:!1}},methods:{async savePack(){let e={JSProgram:this.pack.JSProgram};if("url"===this.resourceType)e.URL=this.pack.URL;else{const r=this.$refs.zipInput,a=r.files?.[0];if(a){const r=new FileReader;await new Promise(((l,o)=>{r.onload=()=>{const a=r.result;e.Content=a.split(",")[1],l(null)},r.onerror=()=>{r.abort(),o(new Error("Error reading file."))},r.readAsDataURL(a)}))}}this.submitted=!0,z.Z.npmIngest(e).then((e=>{console.log(e.data.metadata.Name),console.log(e.data.metadata.Version),console.log(e.data.metadata.ID),alert("Done, redirecting"),this.$router.push({name:"search"})})).catch((e=>{alert("An error occured"),console.log(e),window.location.reload()}))},newPack(){this.submitted=!1,this.pack={}}}}),v=a(3744);const T=(0,v.Z)(P,[["render",U]]);var L=T}}]);
//# sourceMappingURL=738.c7a030b7.js.map