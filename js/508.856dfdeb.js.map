{"version":3,"file":"js/508.856dfdeb.js","mappings":"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","sources":["webpack://461projectui/./src/components/NpmPackIngest.vue?01c1","webpack://461projectui/./src/components/NpmPackIngest.vue?92f7","webpack://461projectui/./src/components/NpmPackIngest.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, vModelRadio as _vModelRadio, withDirectives as _withDirectives, vModelText as _vModelText, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { id: \"body-wrapper\" }\nconst _hoisted_2 = { key: 0 }\nconst _hoisted_3 = { class: \"form-group\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"legend\", null, \"Select Resource Type\", -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  style: {\"padding-left\":\"5px\",\"padding-right\":\"10px\"},\n  for: \"urlResource\"\n}, \"URL\", -1)\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  style: {\"padding-left\":\"5px\"},\n  for: \"zipResource\"\n}, \"Zip File\", -1)\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_8 = { class: \"form-group\" }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"jsProgram\" }, \"JS Program Code\", -1)\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_11 = { class: \"input-group\" }\nconst _hoisted_12 = {\n  key: 0,\n  for: \"url\"\n}\nconst _hoisted_13 = {\n  key: 2,\n  for: \"zipFile\"\n}\nconst _hoisted_14 = {\n  key: 3,\n  type: \"file\",\n  class: \"form-control\",\n  id: \"zipFile\",\n  required: \"\",\n  ref: \"zipInput\",\n  accept: \".zip,application/zip,application/x-zip,application/x-zip-compressed,application/octet-stream\",\n  name: \"zipFile\",\n  label: \"Choose your zipfile\"\n}\nconst _hoisted_15 = { key: 1 }\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"Processing\", -1)\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"span\", { class: \"loader\" }, null, -1)\nconst _hoisted_18 = [\n  _hoisted_16,\n  _hoisted_17\n]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (!_ctx.submitted)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createElementVNode(\"fieldset\", _hoisted_3, [\n            _hoisted_4,\n            _createElementVNode(\"div\", null, [\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"radio\",\n                id: \"urlResource\",\n                name: \"resourceType\",\n                value: \"url\",\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.resourceType) = $event)),\n                \"aria-label\": \"URL\",\n                placeholder: \"Upload with URL\"\n              }, null, 512), [\n                [_vModelRadio, _ctx.resourceType]\n              ]),\n              _hoisted_5,\n              _withDirectives(_createElementVNode(\"input\", {\n                type: \"radio\",\n                id: \"zipResource\",\n                name: \"resourceType\",\n                value: \"zip\",\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.resourceType) = $event)),\n                label: \"Upload Zip File\"\n              }, null, 512), [\n                [_vModelRadio, _ctx.resourceType]\n              ]),\n              _hoisted_6\n            ])\n          ]),\n          _hoisted_7,\n          _createElementVNode(\"div\", _hoisted_8, [\n            _hoisted_9,\n            _withDirectives(_createElementVNode(\"input\", {\n              type: \"text\",\n              class: \"form-control\",\n              id: \"jsProgram\",\n              required: \"\",\n              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.pack.JSProgram) = $event)),\n              name: \"jsProgram\",\n              label: \"Input JS program code\",\n              placeholder: \"JS Program Code\"\n            }, null, 512), [\n              [_vModelText, _ctx.pack.JSProgram]\n            ])\n          ]),\n          _hoisted_10,\n          _createElementVNode(\"div\", _hoisted_11, [\n            (_ctx.resourceType === 'url')\n              ? (_openBlock(), _createElementBlock(\"label\", _hoisted_12, \"URL to resource\"))\n              : _createCommentVNode(\"\", true),\n            (_ctx.resourceType === 'url')\n              ? _withDirectives((_openBlock(), _createElementBlock(\"input\", {\n                  key: 1,\n                  type: \"text\",\n                  class: \"form-control\",\n                  id: \"url\",\n                  required: \"\",\n                  \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.pack.URL) = $event)),\n                  name: \"url\",\n                  label: \"URL to resource\",\n                  placeholder: \"URL to resource\"\n                }, null, 512)), [\n                  [_vModelText, _ctx.pack.URL]\n                ])\n              : _createCommentVNode(\"\", true),\n            (_ctx.resourceType === 'zip')\n              ? (_openBlock(), _createElementBlock(\"label\", _hoisted_13, \"Choose your zipfile\"))\n              : _createCommentVNode(\"\", true),\n            (_ctx.resourceType === 'zip')\n              ? (_openBlock(), _createElementBlock(\"input\", _hoisted_14, null, 512))\n              : _createCommentVNode(\"\", true),\n            _createElementVNode(\"button\", {\n              onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.savePack && _ctx.savePack(...args))),\n              class: \"btn btn-ada\",\n              \"aria-label\": \"Submit the form\"\n            }, \" Submit \")\n          ])\n        ]))\n      : (_openBlock(), _createElementBlock(\"div\", _hoisted_15, _hoisted_18))\n  ]))\n}","\nimport { defineComponent } from \"vue\";\nimport PackService from \"@/services/PackService\";\nimport { \n  PackageData,\n} from \"@/types/Pack\";\n\nexport default defineComponent({\n  name: \"add-pack\",\n  data() {\n    return {\n      pack: {} as PackageData,\n      resourceType: \"url\",\n      submitted: false,\n    };\n  },\n  methods: {\n    async savePack() {\n      let data: any = {\n        JSProgram: this.pack.JSProgram,\n      };\n\n      if (this.resourceType === \"url\") {\n        data.URL = this.pack.URL;\n      } else {\n        const zipInput = this.$refs.zipInput as HTMLInputElement;\n        const file = zipInput.files?.[0];\n\n        if (file) {\n          const fileReader = new FileReader();\n          await new Promise((resolve, reject) => {\n            fileReader.onload = () => {\n              // Get the base64 string of the uploaded zip file\n              const base64WithPrefix = fileReader.result as string;\n              // Remove the prefix\n              data.Content = base64WithPrefix.split(\",\")[1];\n              resolve(null);\n            };\n            fileReader.onerror = () => {\n              fileReader.abort();\n              reject(new Error(\"Error reading file.\"));\n            };\n            // Read the file as a Data URL, which will be a base64-encoded string\n            fileReader.readAsDataURL(file);\n          });\n        }\n      }\n      this.submitted = true;\n      PackService.npmIngest(data)\n        .then((response) => {\n          console.log(response.data.metadata.Name);\n          console.log(response.data.metadata.Version);\n          console.log(response.data.metadata.ID);\n          alert(\"Done, redirecting\");\n          this.$router.push({name: \"search\"});\n        })\n        .catch((error) => {\n          alert(\"An error occured\");\n          console.log(error);\n          window.location.reload();\n        });\n    },\n\n    newPack() {\n      this.submitted = false;\n      this.pack = {} as PackageData;\n    },\n  },\n});\n","import { render } from \"./NpmPackIngest.vue?vue&type=template&id=0be9f6b0&ts=true\"\nimport script from \"./NpmPackIngest.vue?vue&type=script&lang=ts\"\nexport * from \"./NpmPackIngest.vue?vue&type=script&lang=ts\"\n\nimport \"./NpmPackIngest.vue?vue&type=style&index=0&id=0be9f6b0&lang=css\"\n\nimport exportComponent from \"/home/runner/work/ECE461-project-part2/ECE461-project-part2/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_hoisted_1","id","_hoisted_2","key","_hoisted_3","class","_hoisted_4","_createElementVNode","_hoisted_5","style","for","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","type","required","ref","accept","name","label","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","submitted","_withDirectives","value","$event","resourceType","placeholder","_vModelRadio","pack","JSProgram","_vModelText","_createCommentVNode","URL","onClick","args","savePack","defineComponent","data","methods","async","this","zipInput","$refs","file","files","fileReader","FileReader","Promise","resolve","reject","onload","base64WithPrefix","result","Content","split","onerror","abort","Error","readAsDataURL","PackService","then","response","console","log","metadata","Name","Version","ID","alert","$router","push","catch","error","window","location","reload","newPack","__exports__"],"sourceRoot":""}